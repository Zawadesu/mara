<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ALOX5</title>

    <!-- awesome font link-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- css file link -->
    <link rel="stylesheet" href="../gene_info.css">
    <!-- box plot link-->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.2/dist/echarts.min.js"></script>

</head>
<body>

<!-- header section starts-->
<header class="header">

    <a href="#" class="logo">
        <img src="../../images/logo.png" alt="">
    </a>

    <nav class="navbar">
        <ul>
            <li><a href="../../index.html">Home</a></li>
            <li><a href="../../pathways.html">Pathways</a></li>
            <li><a href="../../predictor.html">Predictor</a></li>
            <li><a href="../../genes.html">Genes</a></li>
            <li><a href="../../future.html">Future</a></li>
            <li><a href="../../contact.html">Contact</a></li>
        </ul>   
    </nav>

    <div class="icons">
        <div class="fas fa-globe" id="globe-btn"></div>
        <div class="fas fa-bars" id="menu-btn"></div>
    </div>

</header>

<!-- header section ends-->

<div class="bg"></div>
<div class="bg bg2"></div>
<div class="bg bg3"></div>

<!-- intro section starts-->

<section class="intro" id="intro">
    <div>
        <h1 class="heading">ALOX5</h1>
    </div>

    <div>
        <table class="gene-table">
            <thead>
                <tr>
                    <th colspan="3">GENE INFORMATION</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Gene name</td>
                    <td><i>ALOX5</i></td>
                    <td rowspan="8" class="image-cell">
                        <a href="https://www.rcsb.org/3d-view/3O8Y" target="_blank" title="check protein details">
                            <img src="../../images/alox5.png" alt="">
                        </a>
                    </td>
                </tr>
                <tr>
                    <td>Description</td>
                    <td>Arachidonate 5-lipoxygenase</td>
                </tr>
                <tr>
                    <td>Gene type</td>
                    <td>Protein coding gene</td>
                </tr>
                <tr>
                    <td>Chromosome</td>
                    <td>10</td>
                </tr>
                <tr>
                    <td>Cytoband</td>
                    <td>q11.21</td>
                </tr>
                <tr>
                    <td>Chromosome location(bp)</td>
                    <td>45374176 - 45446119</td>
                </tr>
                <tr>
                    <td>Ensembl</td>
                    <td><a href="http://feb2023.archive.ensembl.org/Homo_sapiens/geneview?gene=ENSG00000012779">ENSG00000012779</a></td>
                </tr>
                <tr>
                    <td>UniProt</td>
                    <td><a href="https://www.uniprot.org/uniprotkb/P09917/entry">P09917</a></td>
                </tr>
            </tbody>
        </table>
    </div>

    <table class="gene-table">
        <thead>
            <tr>
                <th>PROTEIN FUNCTION<a href="https://www.proteinatlas.org/ENSG00000012779-ALOX5/summary/gene" title="Originated from The Human Protein Atlas"><sup>i</sup></a></th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    <i>ALOX5</i> is a multifunctional enzyme that initiates leukotriene biosynthesis by converting 
                    arachidonic acid to pro-inflammatory 5-HPETE and LTA4, while also producing anti-inflammatory 
                    lipoxins and resolvins from omega-3 fatty acids (EPA/DHA). Beyond eicosanoid metabolism, it regulates 
                    immune responses (dendritic cell migration, B/T-cell function), vascular processes (angiogenesis inhibition 
                    via PPARÎ³), and metabolic homeostasis (insulin secretion, bone mineralization). The enzyme exhibits strict 
                    substrate specificity, unable to metabolize linoleic acid, and uniquely bridges pro-inflammatory and 
                    resolution pathways through its dual oxygenase activities on various polyunsaturated fatty acids.
                </td>
            </tr>
        </tbody>
    </table>
</section>

<!-- intro section ends-->

<!-- plot section starts-->

<section class="plot">
    <h1 class="heading">Boxplot</h1>
    <div id="boxplot-container" style="width: 800px; height: 600px;"></div>

    <script>
        
        const chartDom = document.getElementById('boxplot-container');
        const myChart = echarts.init(chartDom);

        // calculate parameters
        function calculateBoxData(dataArray) {
            const sorted = [...dataArray].sort((a, b) => a - b);
            const n = sorted.length;
            
            return [
                sorted[0], // min
                sorted[Math.floor(n * 0.25)], // Q1
                sorted[Math.floor(n * 0.5)], // median
                sorted[Math.floor(n * 0.75)], // Q3
                sorted[n - 1] // max
            ];
        }

        // read data
        function fetchData(gene, ages) {
            return new Promise(resolve => {
                setTimeout(() => {
                    resolve({
                        categories: ['40-49', '50-59', '60-69'],
                        data: [
                                [2.601620458,0.125135289,1.369544654,-0.290165919,2.741850935,2.39531237,-0.292858683,1.524003479,1.160242556,1.524003479,2.526714874,1.10543001,1.269996617,2.391132552,0.926227195,1.109748347,0.49036475,1.524003479,0.011624445,1.524003479,0.88411336,2.033877544,1.568075896,2.123073504,1.340112158,2.363084148,1.892200597,2.791976561,3.346843454,-0.496099737,2.12344769,2.026938127,1.524003479,2.117099891,2.626714799,1.833558055,1.524003479],
                                [1.77942363,0.510648036,0.041915803,2.519436227,0.287495936,2.057776033,0.536669645,1.524003479,-0.303950974,2.853275117,3.130986864,1.052673247,2.813132666,1.797834769,1.524003479,1.470968893,0.411740784,2.548387301,0.602988896,-0.482839223,-0.360010331,-0.522322672,0.383618592,0.353639464,1.77097278,1.363614052,-0.093528039,0.918393868,2.882230233,0.417876813,2.802019463,0.797751781,1.569233445,1.6826497,2.086182518,-0.049543531,-0.172037932,2.457807017,0.420832692,1.99195986,3.018468604,0.368768349,1.338532809,1.524003479,0.549669171,1.79868512,-0.009673892,2.813699116,0.934991975,2.463512603,1.482228746,3.157405956,1.800512714,2.402708536,1.138997906,0.547815022,1.503506482,1.715344295,2.384392475,2.456106969,0.87721811,-0.856092031,2.822167234,2.707111713,1.388013151,1.142021259,1.727968362,1.524003479,2.689249951,1.426742443,2.391759473,1.532715921,2.311133966,0.608847083,-0.11517861,0.920735379,1.524003479,-0.117900093,-0.55143096,1.10547024,2.132468266,1.67878406,-0.800118509,-0.816763776,-0.275197828,1.804697918,2.055035963,0.530720009,1.366699889,2.930841397,1.185492347,0.256201516,3.218923726,1.672787385,2.253786609,1.997415262,2.440380852,0.637498962],
                                [-0.796931684,-1.976611209,-0.178782875,0.84567069,0.33843012,-0.508598378,2.477537454,1.227790356,-0.977250123,0.455460057,1.830944862,1.621936985,0.919362967,0.348708328,0.653115063,2.098702517,-0.363454723,0.900490089,1.081094158,1.192629749,1.279655521,-0.495936964,-1.286406233,0.842793833,3.407135175,1.850483412,2.716626609,0.321916553,1.665088008,0.668745458,-0.267480712,1.539352398,0.765831741,1.857563051,1.524003479,0.002191232,1.703455127,1.524003479,1.636246425,1.262697738,2.866085041,2.199113217,2.539841215,-0.384760755,1.524003479,1.646692623,2.691442598,0.756169328,-0.933986607,1.639769311,2.299906938,2.153208683,2.151352291,-0.235044145,0.976708228,2.788132328,0.165674015,1.668305238,-0.748589927,2.971245558,2.720797217,0.214174553,1.4963294,-0.051769965,-0.079720422,3.192967394,0.557797273,2.240323489,0.252282429,-1.387502177,-1.039070221,1.635796174,0.12797658,-0.719509223,1.199951828,-1.419449267,1.802602698,1.609575323,2.518391618,1.208442345,0.548347841,2.209537585,-0.488574468,2.129576472,0.935437117,1.278014493,1.794478252,1.856997638,1.03936303,0.482373329,2.778050839,0.205217327]
                        ],
                        averages: [1.5503, 1.3275, 1.0141]
                    });
                }, 500);
            });
        }

        // config
        const initialOption = {
            title: {
                text: 'Gene Expression Distribution',
                left: 'center'
            },
            tooltip: {
                trigger: 'item',
                formatter: function(params) {
                    if (params.seriesType === 'boxplot') {
                        return [
                            'Age: ' + params.name,
                            'Upper: ' + params.data[4].toFixed(4),
                            'Q3: ' + params.data[3].toFixed(4),
                            'Median: ' + params.data[2].toFixed(4),
                            'Q1: ' + params.data[1].toFixed(4),
                            'Lower: ' + params.data[0].toFixed(4)
                        ].join('<br/>');
                    } else if (params.seriesType === 'line') {
                        return `Average: ${params.data.toFixed(4)}`;
                    }
                }
            },
            xAxis: {
                type: 'category',
                name: 'Ages',
                data: [],
                axisLabel: { rotate: 45 }
            },
            yAxis: {
                type: 'value',
                name: 'Expression Levels',
                min: 'dataMin'
            },
            dataZoom: [
                { type: 'slider', yAxisIndex: [0], start: 0, end: 100 },
                { type: 'inside', yAxisIndex: [0] }
            ],
            series: [
                {
                    name: 'Expression',
                    type: 'boxplot',
                    data: [],
                    itemStyle: {
                        color: '#409EFF',
                        borderColor: '#30475E',
                        opacity: 1
                    },
                    emphasis: {
                        itemStyle: {
                            borderWidth: 2,
                            shadowBlur: 5,
                            shadowColor: 'rgba(0,0,0,0.3)'
                        }
                    },
                    z: 1
                },
                {
                    name: 'Average',
                    type: 'line',
                    data: [],
                    symbol: 'circle',
                    symbolSize: 8,
                    itemStyle: {
                        color: '#FF6B6B'
                    },
                    lineStyle: {
                        width: 2
                    },
                    emphasis: {
                        lineStyle: {
                            width: 3,
                            color: '#FF0000'
                        },
                        itemStyle: {
                            color: '#FF0000'
                        }
                    },
                    z: 2
                }
            ]
        };

        myChart.setOption(initialOption);

        // load data
        async function loadData(gene = 'PTGS1', ages = 'All') {
            const { categories, data, averages } = await fetchData(gene, ages);
            
            // calculate for each group
            const boxData = data.map(ageData => 
                calculateBoxData(ageData)
            );
            
            myChart.setOption({
                xAxis: { data: categories },
                series: [
                    { data: boxData }, 
                    { data: averages }
                ]
            });
        }

        myChart.on('mouseover', { seriesIndex: 1 }, () => {
            myChart.setOption({
                series: [{
                    itemStyle: { opacity: 0.3 }
                }]
            });
        });

        myChart.on('mouseout', { seriesIndex: 1 }, () => {
            myChart.setOption({
                series: [{
                    itemStyle: { opacity: 1 }
                }]
            });
        });

        loadData();
        window.addEventListener('resize', () => myChart.resize());
    </script>
    <div class="note">
        <p>NOTE: Gene expression values are scaled by log<sub>2</sub>(TPM+0.001).</p>
    </div>
</section>
<!-- plot section ends-->

<!-- footer section starts -->

<section class="footer">
    
    <div class="ack">
        <h3>acknowledgement</h3>
        <p>Sincere gratitude to Professor Xiu-jie Wang for her tutelage.</p>
    </div>

    <div class="credit">Created by <span>Oren</span> | All Rights Reserved</div>
</section>
<!-- footer section ends -->

<script src ="../../mara/script.js"></script>

</body>
</html>